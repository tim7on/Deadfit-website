---
// src/components/HeroVersion2.astro
import { appName, AppStoreLink, GooglePlayLink } from '../consstants/info'
import Screen1 from '../assets/screens/Screen1.webp' // Optimized image format
import Screen2 from '../assets/screens/Screen2.webp'
import Screen3 from '../assets/screens/Screen3.webp'
import Screen4 from '../assets/screens/Screen4.webp'
import Screen5 from '../assets/screens/Screen5.webp'
import { ViewTransitions } from 'astro:transitions'

const screenshots = [Screen1, Screen2, Screen3, Screen4, Screen5]
---

<section class='relative min-h-screen flex items-center'>
	<div
		class='relative z-10 w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 lg:py-20'
	>
		<div class='flex flex-col lg:flex-row items-center gap-8 lg:gap-12'>
			{/* Left Side - Professional Marquee */}
			<div
				class='w-full lg:w-1/2 flex items-center justify-center order-2 lg:order-1'
			>
				<div class='w-full max-w-2xl'>
					<div class='marquee-container'>
						<div class='marquee-content a-marquee-desktop p-8'>
							{
								[...screenshots, ...screenshots].map(
									(screen, i) => (
										<div
											class='marquee-item'
											data-index={i}
										>
											<div class='screenshot-card'>
												<img
													src={screen.src}
													alt={`App Screenshot ${i + 1}`}
													class='screenshot-image'
													loading='lazy'
													decoding='async'
												/>
												<div class='screenshot-overlay' />
											</div>
										</div>
									),
								)
							}
						</div>
					</div>
				</div>
			</div>

			{/* Right Side - Content */}
			<div
				class='w-full lg:w-1/2 text-center lg:text-left order-1 lg:order-2'
			>
				<div class='max-w-xl mx-auto lg:mx-0'>
					<h1
						class='text-4xl sm:text-5xl lg:text-6xl xl:text-7xl font-bold tracking-tight text-gray-900 mb-6 a-fade-in'
					>
						Meet <span
							class='bg-clip-text text-transparent bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 a-gradient'
							>{appName}</span
						>
					</h1>

					<p
						class='text-lg sm:text-xl text-gray-600 mb-8 leading-relaxed a-fade-in a-delay-200'
					>
						Your ultimate fitness companion. Track workouts, crush
						goals, and unleash your potential with our killer
						interface designed for serious athletes.
					</p>

					{/* Download Buttons */}
					<div
						class='flex flex-col sm:flex-row gap-4 justify-center lg:justify-start a-fade-in a-delay-400'
					>
						{
							AppStoreLink && (
								<a
									href={AppStoreLink}
									class='group relative bg-black text-white px-6 py-3.5 rounded-xl font-semibold transition-all duration-300 hover:scale-105 hover:shadow-2xl flex items-center justify-center gap-3 overflow-hidden'
								>
									<div class='absolute inset-0 bg-gradient-to-r from-indigo-600 to-purple-600 opacity-0 group-hover:opacity-100 transition-opacity duration-300' />
									<svg
										class='w-6 h-6 relative z-10'
										viewBox='0 0 24 24'
										fill='currentColor'
									>
										<path d='M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z' />
									</svg>
									<div class='text-left relative z-10'>
										<div class='text-xs opacity-80'>
											Download on the
										</div>
										<div class='text-sm font-bold'>
											App Store
										</div>
									</div>
								</a>
							)
						}
						<div
							class='group flex flex-col gap-4 justify-center lg:justify-start a-fade-in a-delay-400 border-2 border-gray-200 rounded-xl p-4'
						>
							<a
								href={'https://groups.google.com/g/deadfit'}
								class='relative bg-white border-2 border-gray-200 text-gray-900 px-6 py-3.5 rounded-xl font-semibold transition-all duration-300 hover:scale-105 hover:shadow-2xl hover:border-gray-300 flex items-center justify-center gap-3'
							>
								<svg
									class='h-6 w-6'
									xmlns='http://www.w3.org/2000/svg'
									height='24'
									viewBox='0 0 24 24'
									width='24'
									><path
										d='M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z'
										fill='#4285F4'></path><path
										d='M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z'
										fill='#34A853'></path><path
										d='M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z'
										fill='#FBBC05'></path><path
										d='M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z'
										fill='#EA4335'></path><path
										d='M1 1h22v22H1z'
										fill='none'></path></svg
								>

								<div class='text-left'>
									<div class='text-xs opacity-80'>
										Шаг 1 Вступить в группу
									</div>
									<div class='text-sm font-bold'>
										Google Group
									</div>
								</div>
							</a>
							<a
								href={GooglePlayLink || '#'}
								class='relative bg-white border-2 border-gray-200 text-gray-900 px-6 py-3.5 rounded-xl font-semibold transition-all duration-300 hover:scale-105 hover:shadow-2xl hover:border-gray-300 flex items-center justify-center gap-3'
							>
								<svg
									class='w-6 h-6'
									viewBox='0 0 24 24'
									fill='currentColor'
								>
									<path
										d='M3,20.5V3.5C3,2.91 3.34,2.39 3.84,2.15L13.69,12L3.84,21.85C3.34,21.61 3,21.09 3,20.5M16.81,15.12L6.05,21.34L14.54,12.85L16.81,15.12M20.16,10.81C20.5,11.08 20.75,11.45 20.75,11.81C20.75,12.17 20.5,12.54 20.16,12.81L18.16,14L6.05,2.66L16.81,8.88L20.16,10.81M6.05,2.66L18.16,10L16.81,8.88L14.54,11.15L6.05,2.66Z'
									></path>
								</svg>
								<div class='text-left'>
									<div class='text-xs opacity-80'>
										Шаг 2 вступить в закрытое тестирвоание
									</div>
									<div class='text-sm font-bold'>
										Google Play
									</div>
								</div>
							</a>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<style>
		/* Marquee Container */
		.marquee-container {
			position: relative;
			width: 100%;
			overflow: hidden;
			-webkit-mask-image: linear-gradient(
				to right,
				transparent,
				black 10%,
				black 90%,
				transparent
			);
			mask-image: linear-gradient(
				to right,
				transparent,
				black 10%,
				black 90%,
				transparent
			);
		}

		@media (max-width: 1023px) {
			.marquee-container {
				-webkit-mask-image: linear-gradient(
					to right,
					transparent,
					black 5%,
					black 95%,
					transparent
				);
				mask-image: linear-gradient(
					to right,
					transparent,
					black 5%,
					black 95%,
					transparent
				);
			}
		}

		.marquee-content {
			display: flex;
			gap: 1.5rem;
			will-change: transform;
		}

		.marquee-content:hover {
			cursor: grab;
		}

		.marquee-content:active {
			cursor: grabbing;
		}

		/* Marquee Animation */
		@keyframes marquee {
			0% {
				transform: translateX(0);
			}
			50% {
				transform: translateX(-110%);
			}
			100% {
				transform: translateX(0);
			}
		}

		.a-marquee-desktop {
			animation: marquee 15s linear infinite;
		}

		.marquee-item {
			flex-shrink: 0;
		}

		/* Screenshot Cards */
		.screenshot-card {
			position: relative;
			background: linear-gradient(to bottom right, #1f2937, #111827);
			border-radius: 1.25rem;
			box-shadow: 0 5px 10px -5px rgba(0, 0, 0, 0.25);
			transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
			width: 10rem;
		}

		@media (min-width: 640px) {
			.screenshot-card {
				width: 12rem;
			}
		}

		@media (min-width: 1024px) {
			.screenshot-card {
				width: 14rem;
				border-radius: 1.5rem;
			}
		}

		.screenshot-image {
			width: 100%;
			height: auto;
			aspect-ratio: 9 / 19.5;
			object-fit: cover;
			border-radius: 0.75rem;
			display: block;
		}

		@media (min-width: 1024px) {
			.screenshot-image {
				border-radius: 1rem;
			}
		}

		.screenshot-overlay {
			position: absolute;
			inset: 0;
			border-radius: 1rem;
			opacity: 0;
			transition: opacity 0.3s ease;
			pointer-events: none;
		}

		@media (min-width: 1024px) {
			.screenshot-overlay {
				border-radius: 1.5rem;
			}
		}

		.screenshot-card:hover .screenshot-overlay {
			opacity: 1;
		}

		/* Fade In Animation */
		@keyframes fade-in {
			from {
				opacity: 0;
				transform: translateY(20px);
			}
			to {
				opacity: 1;
				transform: translateY(0);
			}
		}

		.a-fade-in {
			animation: fade-in 0.8s ease-out forwards;
			opacity: 0;
		}

		.a-delay-200 {
			animation-delay: 0.2s;
		}

		.a-delay-400 {
			animation-delay: 0.4s;
		}

		/* Gradient Animation */
		@keyframes gradient {
			0%,
			100% {
				background-position: 0% 50%;
			}
			50% {
				background-position: 100% 50%;
			}
		}

		.a-gradient {
			background-size: 200% auto;
			animation: gradient 3s ease infinite;
		}

		/* Performance Optimizations */
		@media (prefers-reduced-motion: reduce) {
			*,
			*::before,
			*::after {
				animation-duration: 0.01ms !important;
				animation-iteration-count: 1 !important;
				transition-duration: 0.01ms !important;
				scroll-behavior: auto !important;
			}

			.marquee-content {
				animation: none !important;
			}
		}
	</style>
</section>
